<!DOCTYPE html>
<html>
    <head>
        <title>Images</title>
        <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
        <style>
            .container {
                position: relative;
                text-align: center;
                color: white;
                border: 2px solid black;
                width: 100%;
                margin-bottom: 20px;
            }

            .centered {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            /* Media queries for different device sizes */
            @media screen and (min-width: 768px) {
                .container {
                    width: 33.33%;
                    display: inline-block;
                    margin-bottom: 0;
                }
            }

            @media screen and (min-width: 992px) {
                .container {
                    width: 25%;
                    display: inline-block;
                }
            }

            @media screen and (min-width: 1200px) {
                .container {
                    width: 20%;
                    display: inline-block;
                }
            }

            @media screen and (max-width: 767px) {
                .container {
                    width: 100%;
                }
            }
        </style>
    </head>
    <body id="body">
        <!-- Images will be dynamically added here using JavaScript -->
    </body>
    <script>
      const imagePath = "./assets/banner/";

fetch('https://api.github.com/repos/umit-09/discordbot/git/trees/main?recursive=1')
  .then(response => response.json())
  .then(data => {
    const imagePaths = data.tree.filter(item => item.path.includes("assets/banner/") && item.path.endsWith(".png")).map(item => item.path);

    imagePaths.forEach(imagePath => {
      fetch(`https://raw.githubusercontent.com/umit-09/discordbot/main/${imagePath}`)
        .then(response => response.blob())
        .then(blob => {
          const objectURL = URL.createObjectURL(blob);

          const container = document.getElementById("body");

          const div = document.createElement("div");
          div.classList.add("container");
          container.appendChild(div);

          const img = document.createElement("img");
          img.src = objectURL;
          img.alt = imagePath.split("/").pop().replace(".png", "");
          img.draggable = false;
          img.style = "width:100%;";
          div.appendChild(img);

          if (img.alt.includes("rgba")) {
            img.src = "./assets/banner/secret.png";
          }

          const div2 = document.createElement("div");
          div2.classList.add("centered");
          const h1 = document.createElement("h1");

          h1.style = "background-color: black; font-family: sans-serif; font-size: 20px;";
          div.appendChild(div2);

          fetch("./banner.bin")
            .then(response => response.json())
            .then(prices => {
              const price = prices[img.alt];
              if (price !== undefined) {
                h1.textContent = img.alt.toUpperCase() + ": " + price;
              } else {
                h1.textContent = img.alt.toUpperCase() + ": No price available";
              }
              div2.appendChild(h1);
            });
        });
    });
  })
  .catch(error => console.error(error));

    </script>
</html>